{"version":3,"sources":["App.js","components/Page/Page.js","components/RouteHelper/RouteHelper.js","components/Text/Text.js","utils/extract-model-id.js","index.js"],"names":["App","this","childComponents","childPages","Page","withModel","require","WrappedComponent","extension","AppPage","attrs","className","props","cssClassNames","MapTo","withComponentMappingContext","routePath","cqPath","key","exact","path","render","routeProps","Component","Text","richText","richTextContent","textContent","id","replace","data-rte-editelement","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","text","emptyLabel","isEmpty","trim","length","document","addEventListener","ModelManager","initialize","then","pageModel","history","createBrowserHistory","cqChildren","Constants","CHILDREN_PROP","cqItems","ITEMS_PROP","cqItemsOrder","ITEMS_ORDER_PROP","PATH_PROP","locationPathname","window","location","pathname","getElementById"],"mappings":"0UAIMA,E,uKAEF,OACE,6BACGC,KAAKC,gBACLD,KAAKE,gB,GALIC,QAWHC,sBAAUL,G,iBCQzBM,EAAQ,K,ICOkBC,EAAkBC,EDFtCC,E,6KAEF,IAAIC,EAAK,4DAGT,OAFAA,EAAMC,WACHD,EAAMC,WAAa,IAAM,UAAYV,KAAKW,MAAMC,eAAiB,IAC7DH,M,GALWN,Q,GASPU,gBAAM,4BAANA,CACbC,uCCRwBR,EDQcE,ECPtC,uKACY,IAAD,OACHO,EAAYf,KAAKW,MAAMK,OAC3B,OAAKD,GAILR,EAAYA,GAAa,OAIvB,kBAAC,IAAD,CACEU,IAAKF,EACLG,OAAK,EACLC,KAAM,OAASJ,EAAY,KAAOR,EAAY,KAC9Ca,OAAQ,SAAAC,GACN,OAAO,kBAACf,EAAD,iBAAsB,EAAKK,MAAWU,QAZ1C,kBAACf,EAAqBN,KAAKW,WAJxC,GAAoCW,gB,iBCVtCjB,EAAQ,KAOR,IAWMkB,E,uKAkBF,OAAOvB,KAAKW,MAAMa,SAAWxB,KAAKyB,gBAAkBzB,KAAK0B,c,sCAhBzD,OACE,yBACEC,ICrB+BR,EDqBZnB,KAAKW,MAAMK,OCpB7BG,GAAQA,EAAKS,QAAQ,QAAS,MDqB/BC,wBAAA,EACAC,wBAAyB,CACvBC,OAAQC,IAAUC,SAASjC,KAAKW,MAAMuB,SCxBjC,IAAwBf,I,kCD+BnC,OAAO,6BAAMnB,KAAKW,MAAMuB,U,GAdTZ,aAsBJT,gBAAM,4BAANA,CACbU,EAlCqB,CACrBY,WAAY,OAEZC,QAAS,SAASzB,GAChB,OAAQA,IAAUA,EAAMuB,MAAQvB,EAAMuB,KAAKG,OAAOC,OAAS,K,OEA/DC,SAASC,iBAAiB,oBAAoB,WAC5CC,eAAaC,aAAaC,MAAK,SAAAC,GAC7B,IAAMC,EAAUC,cAChB1B,iBACE,kBAAC,IAAD,CAAQyB,QAASA,GACf,kBAAC,EAAD,CACEA,QAASA,EACTE,WAAYH,EAAUI,YAAUC,eAChCC,QAASN,EAAUI,YAAUG,YAC7BC,aAAcR,EAAUI,YAAUK,kBAClCrC,OAAQ4B,EAAUI,YAAUM,WAC5BC,iBAAkBC,OAAOC,SAASC,YAGtCnB,SAASoB,eAAe,qB","file":"static/js/main.1d6c0db4.chunk.js","sourcesContent":["import { Page, withModel } from '@adobe/cq-react-editable-components';\nimport React from 'react';\n\n// This component is the application entry point\nclass App extends Page {\n  render() {\n    return (\n      <div>\n        {this.childComponents}\n        {this.childPages}\n      </div>\n    );\n  }\n}\n\nexport default withModel(App);\n","/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n ~ Copyright 2020 Adobe Systems Incorporated\n ~\n ~ Licensed under the Apache License, Version 2.0 (the \"License\");\n ~ you may not use this file except in compliance with the License.\n ~ You may obtain a copy of the License at\n ~\n ~     http://www.apache.org/licenses/LICENSE-2.0\n ~\n ~ Unless required by applicable law or agreed to in writing, software\n ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n ~ See the License for the specific language governing permissions and\n ~ limitations under the License.\n ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/\n\nimport {\n  MapTo,\n  Page,\n  withComponentMappingContext\n} from '@adobe/cq-react-editable-components';\nimport { withRoute } from '../RouteHelper/RouteHelper';\n\nrequire('./Page.css');\n\n// This component is a variant of a Page component mapped to the\n// \"myproject/components/page\" resource type. For now, the rendering is\n// the same as the RootPage; this is more for illustration purposes\nclass AppPage extends Page {\n  get containerProps() {\n    let attrs = super.containerProps;\n    attrs.className =\n      (attrs.className || '') + ' page ' + (this.props.cssClassNames || '');\n    return attrs;\n  }\n}\n\nexport default MapTo('myproject/components/page')(\n  withComponentMappingContext(withRoute(AppPage))\n);\n","/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n ~ Copyright 2020 Adobe Systems Incorporated\n ~\n ~ Licensed under the Apache License, Version 2.0 (the \"License\");\n ~ you may not use this file except in compliance with the License.\n ~ You may obtain a copy of the License at\n ~\n ~     http://www.apache.org/licenses/LICENSE-2.0\n ~\n ~ Unless required by applicable law or agreed to in writing, software\n ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n ~ See the License for the specific language governing permissions and\n ~ limitations under the License.\n ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/\n\nimport React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\n\n/**\n * Helper that facilitate the use of the {@link Route} component\n */\n\n/**\n * Returns a composite component where a {@link Route} component wraps the provided component\n *\n * @param {React.Component} WrappedComponent    - React component to be wrapped\n * @param {string} [extension=html]             - extension used to identify a route amongst the tree of resource URLs\n * @returns {CompositeRoute}\n */\nexport const withRoute = (WrappedComponent, extension) => {\n  return class CompositeRoute extends Component {\n    render() {\n      let routePath = this.props.cqPath;\n      if (!routePath) {\n        return <WrappedComponent {...this.props} />;\n      }\n\n      extension = extension || 'html';\n\n      // Context path + route path + extension\n      return (\n        <Route\n          key={routePath}\n          exact\n          path={'(.*)' + routePath + '(.' + extension + ')?'}\n          render={routeProps => {\n            return <WrappedComponent {...this.props} {...routeProps} />;\n          }}\n        />\n      );\n    }\n  };\n};\n","/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n ~ Copyright 2020 Adobe Systems Incorporated\n ~\n ~ Licensed under the Apache License, Version 2.0 (the \"License\");\n ~ you may not use this file except in compliance with the License.\n ~ You may obtain a copy of the License at\n ~\n ~     http://www.apache.org/licenses/LICENSE-2.0\n ~\n ~ Unless required by applicable law or agreed to in writing, software\n ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n ~ See the License for the specific language governing permissions and\n ~ limitations under the License.\n ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/\n\nimport { MapTo } from '@adobe/cq-react-editable-components';\nimport DOMPurify from 'dompurify';\nimport React, { Component } from 'react';\nimport extractModelId from '../../utils/extract-model-id';\n\nrequire('./Text.css');\n\n/**\n * Default Edit configuration for the Text component that interact with the Core Text component and sub-types\n *\n * @type EditConfig\n */\nconst TextEditConfig = {\n  emptyLabel: 'Text',\n\n  isEmpty: function(props) {\n    return !props || !props.text || props.text.trim().length < 1;\n  }\n};\n\n/**\n * Text React component\n */\nclass Text extends Component {\n  get richTextContent() {\n    return (\n      <div\n        id={extractModelId(this.props.cqPath)}\n        data-rte-editelement\n        dangerouslySetInnerHTML={{\n          __html: DOMPurify.sanitize(this.props.text)\n        }}\n      />\n    );\n  }\n\n  get textContent() {\n    return <div>{this.props.text}</div>;\n  }\n\n  render() {\n    return this.props.richText ? this.richTextContent : this.textContent;\n  }\n}\n\nexport default MapTo('myproject/components/text')(\n  Text,\n  TextEditConfig\n);\n","/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n ~ Copyright 2020 Adobe Systems Incorporated\n ~\n ~ Licensed under the Apache License, Version 2.0 (the \"License\");\n ~ you may not use this file except in compliance with the License.\n ~ You may obtain a copy of the License at\n ~\n ~     http://www.apache.org/licenses/LICENSE-2.0\n ~\n ~ Unless required by applicable law or agreed to in writing, software\n ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n ~ See the License for the specific language governing permissions and\n ~ limitations under the License.\n ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/\n\n/**\n * Extract an id from the cqModel field of given properties\n *\n * @param path - Path to be converted into an id\n * @returns {string|undefined}\n */\nexport default function extractModelId(path) {\n  return path && path.replace(/\\/|:/g, '_');\n}\n","/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n ~ Copyright 2020 Adobe Systems Incorporated\n ~\n ~ Licensed under the Apache License, Version 2.0 (the \"License\");\n ~ you may not use this file except in compliance with the License.\n ~ You may obtain a copy of the License at\n ~\n ~     http://www.apache.org/licenses/LICENSE-2.0\n ~\n ~ Unless required by applicable law or agreed to in writing, software\n ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n ~ See the License for the specific language governing permissions and\n ~ limitations under the License.\n ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/\n\n// Use polyfills for modern language features\n// The imports and dependencies can be removed if only modern browsers should be\n// supported\nimport 'react-app-polyfill/stable';\nimport 'react-app-polyfill/ie9';\nimport 'custom-event-polyfill';\n\nimport { Constants, ModelManager } from '@adobe/cq-spa-page-model-manager';\nimport { createBrowserHistory } from 'history';\nimport React from 'react';\nimport { render } from 'react-dom';\nimport { Router } from 'react-router-dom';\nimport App from './App';\nimport './components/import-components';\nimport './index.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  ModelManager.initialize().then(pageModel => {\n    const history = createBrowserHistory();\n    render(\n      <Router history={history}>\n        <App\n          history={history}\n          cqChildren={pageModel[Constants.CHILDREN_PROP]}\n          cqItems={pageModel[Constants.ITEMS_PROP]}\n          cqItemsOrder={pageModel[Constants.ITEMS_ORDER_PROP]}\n          cqPath={pageModel[Constants.PATH_PROP]}\n          locationPathname={window.location.pathname}\n        />\n      </Router>,\n      document.getElementById('spa-root')\n    );\n  });\n});\n"],"sourceRoot":""}